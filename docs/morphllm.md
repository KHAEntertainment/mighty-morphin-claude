<!--
  This file is automatically generated from the MorphLLM documentation
  hosted at https://context7.com/websites/morphllm/llms.txt.  See
  the project brief for instructions on how to update it.
-->

# MorphLLM Quick Reference

> *This file contains a condensed version of the MorphLLM documentation.  For the full
> guide please refer to https://docs.morphllm.com or the source
> [`llms.txt`](https://context7.com/websites/morphllm/llms.txt).*

MorphLLM is a suite of LLM models and tools built around a high‑performance
*Fast Apply* engine for programmatically modifying source code.  It exposes
both a command line interface (`morph-apply`) and an HTTP API.  The key
concepts are:

* **Goal** – a natural language description of the desired change.
* **Files** – the set of files whose contents provide context for the edit.
* **Diff** – the structural changes returned by the model.  Morph can
  return unified diffs or complete file contents depending on the
  backend implementation.

## Obtaining an API key

You must create a Morph account and generate an API key in order to use
the HTTP API.  Log in to the [Morph dashboard](https://morphllm.com/dashboard)
and navigate to **API Keys**.  The key should be stored securely; this
project uses the system keychain via the `m-m_claude install` command (or `npm run setup:claude`).

## API endpoints

### POST `/apply`

Submit an edit request.  The payload has the following shape (JSON):

```
{
  "goal": "Rename the function processItems to transformItems and update all callers",
  "dryRun": false,
  "files": [
    { "path": "src/utils/items.ts", "content": "… file contents …" },
    { "path": "src/index.ts", "content": "… file contents …" }
  ]
}
```

The response contains an array of edits and optional logs:

```
{
  "edits": [
    { "path": "src/utils/items.ts", "patch": "@@ … unified diff …" },
    { "path": "src/index.ts", "patch": "…" }
  ],
  "logs": "Model reasoning and metadata"
}
```

### API playground

You can experiment with the Fast Apply API in the browser at
<https://morphllm.com/dashboard/playground/apply>.  The playground
allows you to paste your goal, code and update snippet and see the
resulting patch.

## Python client example

The following script illustrates how to call MorphLLM using the
official `openai` client.  It constructs the apply request by
embedding the instruction, original code and update into an XML‑like
structure which the model understands:

```
from openai import OpenAI

client = OpenAI(
    api_key="your-morph-api-key",
    base_url="https://api.morphllm.com/v1"
)

def apply_edit(instruction: str, original: str, update: str):
    response = client.chat.completions.create(
        model="morph-v3-large",
        messages=[{
            "role": "user",
            "content": f"<instruction>{instruction}</instruction>\n<code>{original}</code>\n<update>{update}</update>"
        }]
    )
    return response.choices[0].message.content

# Example usage
original = """
const a = 1
const authenticateUser = () => {
  return "Authenticated"
}
"""

instruction = "Change the return text to French"
update = """
// ... existing code ...
  return "Authentifié"
}
"""

final_code = apply_edit(instruction, original, update)
print(final_code)
```

For additional examples and best practices, consult the official
MorphLLM guides on [prompting](https://docs.morphllm.com/guides/prompting)
and the [AI tools integration](https://docs.morphllm.com/guides/tools).
